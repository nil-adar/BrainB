<!DOCTYPE html>
<html lang="he">
  {% load static %}

  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://db.onlinewebfonts.com/c/70157cb1204ca26691b11450306cd5f4?family=Harmonia+Sans+W06+Semi+Bold+Cn"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Assistant:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <title>NODUS - Results</title>
    <style>
      body {
        font-family: "Montserrat", sans-serif;
        margin: 0;
        padding: 0;
        color: #0063a0;
      }

      /* Add RTL support */
      body.rtl {
        direction: rtl;
      }

      body.he {
        font-family: "Assistant", sans-serif;
      }

      .rtl .header nav a {
        margin-right: 20px;
        margin-left: 0;
      }

      .rtl .logo-name {
        text-align: right;
      }

      .rtl .labResultsHeaderText {
        text-align: right;
      }

      .rtl .resultOverview {
        text-align: right;
      }

      .rtl .types {
        text-align: right;
        margin-right: 20%;
        margin-left: 0;
      }

      .header {
        background-color: #0f75bc;
        color: white;
        padding: 15px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .header img {
        width: 70px;
      }

      .header nav a {
        color: white;
        margin-left: 20px;
        text-decoration: none;
        transition: color 0.3s ease;
      }

      .header nav a:hover {
        color: #16b06f;
      }

      .hero {
        background-image: url("{% static 'images/background-FAQ.png' %}");
        /* Add your image URL here */
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center;
        color: white;
        text-align: center;
        padding: 20px 20px 20px;
        min-height: 500px;
      }

      .hero h1 {
        align-items: center;
        margin: 0px;
        font-size: 3em;
        color: #0063a0;
        font-family: "Montserrat", sans-serif;
      }

      .hero h2 {
        align-items: center;
        margin: 0px;
        font-size: 2em;
        color: #0063a0;
        font-family: "Montserrat", sans-serif;
      }

      .hero h3 {
        align-items: center;
        margin: 0px;
        font-size: 1em;
        color: #0063a0;
        font-family: "Montserrat", sans-serif;
      }

      .hero p {
        margin: 10px;
        font-size: 2em;
        color: #0063a0;
        font-family: "Montserrat", sans-serif;
      }

      .hero button {
        margin: 20px;
        background-color: #01c5a2;
        color: white;
        border: none;
        padding: 15px 30px;
        font-size: 1.2em;
        cursor: pointer;
        border-radius: 5px;
        font-family: "Montserrat", sans-serif;
        transition: background-color 0.3s ease;
      }

      .hero button:hover {
        background-color: #019c84;
      }

      .content {
        margin: 20px 0px;
        padding: 50px 20px;
        text-align: center;
        background-color: #e9f5fe;
      }

      .content h2 {
        font-size: 2em;
        margin-bottom: 20px;
      }

      .columns {
        display: flex;
        justify-content: space-around;
        flex-wrap: wrap;
        width: 75%;
        align-items: center;
        align-self: center;
      }

      .column {
        flex: 1;
        min-width: 200px;
        margin: 10px;
        padding: 20px;
        border-radius: 10px;
        transition: transform 0.3s ease;
      }

      .column img {
        width: 50px;
        height: 50px;
      }

      .column h3 {
        margin: 0px;
      }

      .footer {
        background-color: #0f75bc;
        color: white;
        display: flex;
        justify-content: space-around;
        flex-wrap: wrap;
      }

      .footer div {
        flex: 1;
        min-width: 200px;
        margin: 10px;
      }

      .footer a {
        color: white;
        text-decoration: none;
        transition: text-decoration 0.3s ease;
      }

      .footer a:hover {
        text-decoration: underline;
      }

      .footer form {
        display: flex;
        flex-direction: column;
      }

      .footer input[type="email"] {
        padding: 10px;
        margin-bottom: 10px;
        border: none;
        border-radius: 5px;
        transition: border 0.3s ease;
      }

      .footer input[type="email"]:focus {
        outline: none;
        border: 2px solid #00a859;
      }

      .footer input[type="submit"] {
        background-color: #00a859;
        color: white;
        border: none;
        padding: 10px;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }

      .footer input[type="submit"]:hover {
        background-color: #007d40;
      }

      .logo-name {
        text-align: left;
        text-decoration: none;
        align-items: center;
        color: white;
        font-size: x-large;
        font: bold;
        transition: color 0.3s ease;
      }

      .logo-name:hover {
        color: #16b06f;
      }

      .labResultsHeader {
        display: flex;
        flex-direction: row;
        justify-content: center;
      }

      .labResultsHeaderText {
        justify-content: left;
      }

      .overlay {
        margin-right: 20%;
        margin-left: 20%;
      }

      .card {
        border: 1px solid;
        border-radius: 25px;
        background-color: #add1e7;
        display: flex;
        flex-direction: row;
        min-height: 200px;
        min-width: 100px;
        padding: 5px;
      }

      .card p {
        color: #0063a0;
        font-size: 1.3em;
      }

      .resultOverview {
        margin: 10px;
        text-align: left;
        max-width: 50%;
      }

      .resultOverview h2 {
        margin: 10px;
      }

      /* Language selector styles */
      .language-selector {
        display: flex;
        align-items: center;
        margin-left: 20px;
      }
      .language-btn {
        background-color: transparent;
        color: white;
        border: 1px solid white;
        padding: 5px 10px;
        margin: 0 5px;
        cursor: pointer;
        border-radius: 4px;
        transition: all 0.3s ease;
      }
      .language-btn:hover,
      .language-btn.active {
        background-color: #16b06f;
        border-color: #16b06f;
      }

      /* For mobile screens - responsive adjustments */
      @media (max-width: 768px) {
        .card {
          flex-direction: column;
        }
        .resultOverview {
          max-width: 100%;
        }
        .overlay {
          margin-right: 5%;
          margin-left: 5%;
        }
        .types {
          margin-left: 0 !important;
          text-align: center !important;
        }
        .rtl .types {
          margin-right: 0 !important;
        }
      }
    </style>
  </head>

  <body>
    <header class="header">
      <div
        style="
          justify-content: right;
          display: flex;
          text-align: center;
          align-items: center;
        "
      >
        <img
          src="{% static 'images/nodus-icon-removebg-preview.png'%}"
          alt="NODUS Logo"
          sizes="50px"
        />
        <a
          class="logo-name"
          href="#"
          onclick="location.href='{% url 'landing' %}'"
          data-translate="nodus"
        >
          <strong>NODUS</strong>
        </a>
      </div>
      <div style="display: flex; align-items: center">
        <nav style="padding: 10px">
          <a
            href="#"
            onclick="location.href='{% url 'landing' %}'"
            data-translate="home"
            >Home</a
          >
          <a
            href="#"
            onclick="location.href='{% url 'consent' %}'"
            data-translate="start_test"
            >Start Test</a
          >
          <a
            href="#"
            onclick="location.href='{% url 'FAQ' %}'"
            data-translate="faq"
            >FAQ</a
          >
        </nav>
        <div class="language-selector">
          <button class="language-btn active" onclick="changeLanguage('en')">
            EN
          </button>
          <button class="language-btn" onclick="changeLanguage('he')">
            עב
          </button>
        </div>
      </div>
    </header>

    <section class="hero">
      <div
        style="
          background-color: #e9f5fe;
          padding: 20px;
          margin: 20px auto;
          max-width: 800px;
          border-radius: 8px;
          text-align: center;
        "
      >
        <h2
          style="color: #0063a0; margin: 0; font-size: 2em"
          data-translate="assessment_complete"
        >
          האבחון הסתיים בהצלחה!
        </h2>
        <p
          style="color: #0063a0; font-size: 1.2em"
          data-translate="view_results_note"
        >
          כדי לצפות בתוצאות המלאות וההמלצות האישיות, חזור למערכת BrainBridge.
        </p>
      </div>

      <div
        style="
          display: flex;
          justify-content: center;
          gap: 40px;
          margin-top: 40px;
          flex-wrap: wrap;
        "
      >
        <div
          id="backToBrainBridge"
          style="
            width: 220px;
            height: 70px;
            background-color: #00c39a;
            color: white;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
          "
          onmouseover="this.style.backgroundColor='#019c84'; this.style.transform='translateY(-2px)'"
          onmouseout="this.style.backgroundColor='#00c39a'; this.style.transform='translateY(0)'"
          data-translate="back_to_brainbridge"
        >
          חזור ל־BrainBridge
        </div>

        <div
          id="recommendationsButton"
          style="
            width: 220px;
            height: 70px;
            background-color: #0f75bc;
            color: white;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
          "
          onmouseover="this.style.backgroundColor='#0d5fa3'; this.style.transform='translateY(-2px)'"
          onmouseout="this.style.backgroundColor='#0f75bc'; this.style.transform='translateY(0)'"
          data-translate="go_to_recommendations"
        >
          מעבר להמלצות
        </div>
      </div>

      <script>
        const BASE_URL =
          window.location.hostname === "localhost" ||
          window.location.hostname === "127.0.0.1"
            ? "http://localhost:8080"
            : "https://brain-bridge.net";

        document.getElementById("backToBrainBridge").onclick = () => {
          window.location.href = BASE_URL;
        };

        const studentId = localStorage.getItem("studentId");
        document.getElementById("recommendationsButton").onclick = () => {
          if (studentId) {
            window.location.href = `${BASE_URL}/recommendations?studentId=${studentId}`;
          } else {
            alert("⚠️ לא נמצא מזהה תלמיד. נסה להתחיל את האבחון מחדש.");
          }
        };
      </script>
    </section>

    <footer class="footer">
      <div style="text-align: center; align-items: center; padding: 20px">
        <h3 data-translate="learn_more">Learn more about ADHD</h3>
        <p>
          <a
            href="https://applications.emro.who.int/docs/EMRPUB_leaflet_2019_mnh_214_en.pdf"
            data-translate="who_adhd"
            >World Health Organization - ADHD</a
          >
        </p>
        <p>
          <a
            href="https://www.cdc.gov/adhd/index.html"
            data-translate="cdc_adhd"
            >CDC.gov - ADHD</a
          >
        </p>
      </div>
      <div style="padding: 20px">
        <h3 data-translate="contact_us">Contact Us</h3>
        <p>Safwan.Halabi@e.braude.ac.il</p>
        <p>Bishara.Bisharat@e.braude.ac.il</p>
      </div>
      <div
        style="
          padding: 20px;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-direction: row;
        "
      >
        <h2>
          <strong style="font-size: 30px" data-translate="nodus">NODUS</strong>
        </h2>
        <img
          src="{% static 'images/nodus-icon-removebg-preview.png' %}"
          alt="NODUS Logo"
          sizes="50px"
          style="width: 70px"
        />
      </div>
    </footer>

    <script>
      let currentLanguage = "he";

      const translations = {
        en: {
          nodus: "NODUS",
          home: "Home",
          start_test: "Start Test",
          back_to_brainbridge: "Back to BrainBridge",
          faq: "FAQ",
          assessment_complete:
            "The assessment has been successfully completed!",
          view_results_note:
            "To view your full results and personalized recommendations, return to the BrainBridge system.",
          go_to_recommendations: "Go to Recommendations",
          learn_more: "Learn more about ADHD",
          who_adhd: "World Health Organization - ADHD",
          cdc_adhd: "CDC.gov - ADHD",
          contact_us: "Contact Us",
        },
        he: {
          nodus: "נודוס",
          home: "דף הבית",
          start_test: "התחל בדיקה",
          faq: "שאלות נפוצות",
          back_to_brainbridge: "חזור לדף הבית של BrainBridge",
          go_to_recommendations: "מעבר להמלצות",
          assessment_complete: "האבחון הסתיים בהצלחה!",
          view_results_note:
            "כדי לצפות בתוצאות המלאות וההמלצות האישיות, חזור למערכת BrainBridge.",
          learn_more: "למד עוד על ADHD",
          who_adhd: "ארגון הבריאות העולמי - ADHD",
          cdc_adhd: "CDC.gov - ADHD",
          contact_us: "צור קשר",
        },
      };

      function changeLanguage(lang) {
        currentLanguage = lang;
        document
          .querySelectorAll(".language-btn")
          .forEach((btn) => btn.classList.remove("active"));
        document
          .querySelector(`.language-btn[onclick="changeLanguage('${lang}')"]`)
          .classList.add("active");
        document.documentElement.lang = lang;
        document.body.classList.remove("rtl", "he");
        if (lang === "he") document.body.classList.add("rtl", "he");
        document.querySelectorAll("[data-translate]").forEach((element) => {
          const key = element.getAttribute("data-translate");
          if (translations[lang][key])
            element.innerHTML = translations[lang][key];
        });
      }

      document.addEventListener("DOMContentLoaded", () => {
        changeLanguage("he");
      });
    </script>
  </body>
</html>
